<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="mainPage.css">
  <link rel="icon" href="img/eagle.svg" type="image/x-icon">
  <script src = "mainPage.js"></script>
</head>

<body>
  <!-- The side bar with home  -->
  <h2 class = side>
    <!-- Home Button -->
    <a href= "index.html">
      <button>Home</button>
    </a>
    <a href= "musicUpload.html">
      <button>Upload</button>
    </a>
    <a href= "profile.html">
      <button>Profile</button>
    </a>
    <a href= "login.html">
      <button>Login</button>
    </a>
    <a href= "administration_page/index.html">
      <button>Admin</button>
    </a>
    <a href= "settings_page/index.html">
      <button>Settings</button>
    </a>
    <a href= "artistDataReport.html">
      <button>Data Report</button>
    </a>
    <p class="uhFont">
      My Playlist
    </p>
      <p class="playlist">
        <img src="img/music_disc.png" alt="disc" width ="25" height="25"> 
        The music disk
      </p>
  </h2>
  <main>
    
    <!-- Code for the search bar, needs to be connected to a js -->
    <input id="searchbar" type="text" name ="search" placeholder="Search">

    
    <h1 class="uhFont"> Top Picks </h1>
    <!-- The hyperlink to the different albums -->
    <a href="playlist.html">
    <!-- Unorder list of music inside song boxes -->
    <ul id="songlist" class="song-list">
      <li class="song-item">
        <img src="img/eagle.svg" alt="eagle" width ="100" height="100">
        <div class="song-info">
          <h2>
            
              <span id = "song-name">Apple song</span>
            
          </h2>
          <p>
            <span id = "song-genre"> Genre: Rap </span>
            <br> 
              <img src="img/star.svg" alt="Rating:" width ="15" height="15"> 
              <span id = "song-ratings"> 3.9 </span>
            <br> 
              <img src="img/eye.svg" alt="Views:" width ="15" height="15">
              <span id = "song-views"> 1235 </span>
          </p>
        </div>
    </a>
          
      </li>
      <li class="song-item">
        <img src="img/music_disc.png" alt="eagle" width ="100" height="100">
        <div class="song-info">
          <h2>Banger song</h2>
          <p>Genre: Country</p>
          <p>Rating: 3.9</p>
          <p> Views: 2345 </p>
        </div>
      </li>
      
      <li class="song-item">
        <div class="song-box"></div>
        <div class="song-info">
          <h2>candy song</h2>
          <p>Genre: Jazz</p>
          <p>Rating: 4.4</p>
          <p> Views: 4322 </p>
        </div>
      </li>
    </ul>

  <hr> <!--horizontal line-->

  <h1 class="uhFont">New Releases</h1>
    <ul id="new-releases" class="song-list">
      <li class="song-item">
        <div class="NR-box"></div>
        <div class="song-info">
          <h2>
            <span>Dancing song</span>
          </h2>
        </div>

      </li>
    </ul>

  <hr> <!--horizontal line-->
  
  <h1 class="uhFont"> Recommended Artist </h1>
    <ul id="Recommended" class="song-list">
      <li class="song-item">
        <div class="Rec-box"></div>
        <div class="song-info">
          <h2></h2>
        </div>
      </li>
    </ul>
    <script>
    document.addEventListener("DOMContentLoaded", async function () {
      // Fetch recommended artists from the updated endpoint
      const recommendedArtists = await fetchRecommendedArtists();
  
      // Get the UL element to append artists
      const recommendedArtistsList = document.getElementById("Recommended");
  
      // Loop through the array and create list items for each artist
      recommendedArtists.forEach(artist => {
          // Create a new LI element
          const listItem = document.createElement("li");
          listItem.classList.add("song-item");
  
          // Update the inner HTML of the LI element
          listItem.innerHTML = `
              <div class="Rec-box"></div>
              <div class="song-info">
                  <h2>${artist}</h2>
              </div>
          `;
  
          // Append the LI element to the UL
          recommendedArtistsList.appendChild(listItem);
      });
  });
  </script>
  </body>
  </html>